<%! from django.utils.translation import ugettext as _ %>
<%! from django_comment_client.permissions import cached_has_permission %>
<%include file="_underscore_templates.html" />

<%namespace name='static' file='../static_content.html'/>

<%block name="js_extra">
    <%static:js group='discussion' raw='true'/>
</%block>

<%block name="css_extra">
    <%static:css group='discussion' raw='true'/>
</%block>

<div class="discussion-module" data-discussion-id="${discussion_id | h}">
    <a class="discussion-show control-button" href="javascript:void(0)" data-discussion-id="${discussion_id | h}" role="button"><span class="show-hide-discussion-icon"></span><span class="button-text">${_("Show Discussion")}</span></a>
    % if cached_has_permission(user, 'create_thread', course.id):
        <a href="#" class="new-post-btn" role="button"><span class="icon fa fa-edit new-post-icon"></span>${_("New Post")}</a>
    % endif
</div>
